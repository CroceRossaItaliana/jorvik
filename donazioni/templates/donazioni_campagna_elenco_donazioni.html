{% extends 'donazioni_vuota.html' %}

{% load bootstrap3 %}

{% block pagina_titolo %}
    Elenco donazioni
{% endblock %}

{% block app_contenuto %}

    <h4 class="allinea-centro text-success">
        Elenco donazioni per la campagna raccolta fondi {{ campagna.nome }}
    </h4>
    <div class="alert alert-success">
    Euro raccolti finora: {{ totale_donazioni }}<br />Totale Donazioni: {{ campagna.donazioni.count }}<br />
    Donatori censiti per questa campagna: {{ numero_donatori_censiti }}<br />
    <a href="{{ campagna.url_elenco_donatori }}" class="btn btn-sm btn-default">Elenco donatori per questa campagna</a>.</p>
    </div>
    <table class="table table-striped table-bordered">
        <thead>
            <th>Data</th>
            <th>Donatore</th>
            <th>Importo</th>
            <th>Data Inserimento</th>
            <th>Modalità</th>
        </thead>

        {% for donazione in campagna.donazioni.all %}

            <tr>
                <td class="piu-piccolo">
                    <i class="fa fa-calendar"></i>
                    {{ donazione.data }}<br />
                </td>
                <td class="piu-piccolo allinea-sinistra">
                    {{ donazione.donatore|default_if_none:""}}
                </td>

                <td class="piu-piccolo allinea-sinistra">
                    <i class="fa"></i>
                    {{ donazione.importo }} €
                </td>
                <td class="piu-piccolo">
                    <i class="fa fa-fw fa-calendar"></i>
                        {{ donazione.creazione }}
                        <br />
                </td>

                <td>
                    {{ donazione.get_modalita_display }}
                    {% if donazione.ricorrente %}
                        <br/><i>Donazione Ricorrente</i>
                    {% endif %}
                </td>
            </tr>

        {% empty %}
            <tr class="info">
                <td colspan="6">
                    <h4><i class="fa fa-fw fa-info-circle"></i> Non è presente ancora alcuna donazione per questa campagna.</h4>
                </td>
            </tr>
        {% endfor %}
    </table>

    <div class="alert alert-success">
        <a href="{{ campagna.url_aggiungi_donazione }}" class="btn btn-sm btn-success">Aggiungi una donazione per questa campagna</a>.</p>
    </div>

{% endblock %}